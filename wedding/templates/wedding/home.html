{% extends 'wedding/base.html' %} {% block extra_css %}
<style>
  /* === HERO / CAROUSEL === */
  .hero {
    position: relative;
    height: 80vh;
    min-height: 500px;
    overflow: hidden;
    background: var(--dark);
  }

  .carousel {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .carousel-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .carousel-slide.active {
    opacity: 1;
  }

  .carousel-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    color: white;
    text-align: center;
    z-index: 10;
  }

  .hero-title {
    font-size: 4rem;
    margin-bottom: 1rem;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
    animation: fadeInUp 1s ease-out;
  }

  .hero-subtitle {
    font-size: 1.5rem;
    margin-bottom: 2rem;
    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7);
    animation: fadeInUp 1s ease-out 0.3s both;
  }

  .hero-date {
    font-size: 1.2rem;
    letter-spacing: 2px;
    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7);
    animation: fadeInUp 1s ease-out 0.6s both;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .carousel-controls {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 1rem;
    z-index: 20;
  }

  .carousel-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: all 0.3s;
    border: 2px solid white;
  }

  .carousel-dot.active {
    background: white;
    transform: scale(1.2);
  }

  .carousel-arrows {
    position: absolute;
    top: 50%;
    width: 100%;
    display: flex;
    justify-content: space-between;
    padding: 0 2rem;
    z-index: 20;
    transform: translateY(-50%);
  }

  .carousel-arrow {
    background: rgba(255, 255, 255, 0.3);
    color: white;
    border: none;
    font-size: 2rem;
    padding: 1rem 1.5rem;
    cursor: pointer;
    transition: all 0.3s;
    border-radius: 4px;
  }

  .carousel-arrow:hover {
    background: rgba(255, 255, 255, 0.5);
  }

  /* === COUNTDOWN === */
  .countdown-section {
    background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
    color: white;
    padding: 4rem 2rem;
    text-align: center;
  }

  .countdown {
    display: flex;
    justify-content: center;
    gap: 3rem;
    margin-top: 2rem;
    flex-wrap: wrap;
  }

  .countdown-item {
    text-align: center;
  }

  .countdown-number {
    font-size: 3rem;
    font-weight: 700;
    display: block;
  }

  .countdown-label {
    font-size: 1rem;
    opacity: 0.9;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* === WELCOME SECTION === */
  .welcome-section {
    padding: 5rem 2rem;
    text-align: center;
    background: white;
  }

  .welcome-text {
    max-width: 800px;
    margin: 0 auto 3rem;
    font-size: 1.2rem;
    line-height: 1.8;
    color: var(--text);
  }

  /* === EVENTS PREVIEW === */
  .events-preview {
    background: var(--light);
    padding: 5rem 2rem;
  }

  .events-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .event-card {
    background: white;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .event-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  }

  .event-type {
    color: var(--primary);
    font-size: 0.9rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.5rem;
  }

  .event-name {
    font-size: 1.5rem;
    margin-bottom: 1rem;
  }

  .event-details {
    color: #666;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  /* === CTA SECTION === */
  .cta-section {
    background: var(--dark);
    color: white;
    text-align: center;
    padding: 5rem 2rem;
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-top: 2rem;
    flex-wrap: wrap;
  }

  .btn-secondary {
    background: transparent;
    border: 2px solid white;
    color: white;
  }

  .btn-secondary:hover {
    background: white;
    color: var(--dark);
  }
</style>
{% endblock %} {% block content %}
<!-- Hero Carousel -->
<section class="hero">
  <div class="carousel" id="heroCarousel">
    {% if featured_photos %} {% for photo in featured_photos %}
    <div
      class="carousel-slide {% if forloop.first %}active{% endif %}"
      style="background-image: url('{{ photo.image.url }}');"
    ></div>
    {% endfor %} {% else %}
    <!-- Placeholder slides with gradient backgrounds -->
    <div
      class="carousel-slide active"
      style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
    ></div>
    <div
      class="carousel-slide"
      style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"
    ></div>
    <div
      class="carousel-slide"
      style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"
    ></div>
    {% endif %}

    <div class="carousel-overlay">
      <h1 class="hero-title">John & Jane</h1>
      <p class="hero-subtitle">We're Getting Married!</p>
      <p class="hero-date">JUNE 15, 2026</p>
    </div>

    <div class="carousel-arrows">
      <button class="carousel-arrow" id="prevBtn">‚Äπ</button>
      <button class="carousel-arrow" id="nextBtn">‚Ä∫</button>
    </div>

    <div class="carousel-controls" id="carouselDots">
      <!-- Dots will be generated by JavaScript -->
    </div>
  </div>
</section>

<!-- Countdown Section -->
<section class="countdown-section">
  <h2 style="font-size: 2.5rem; margin-bottom: 1rem">
    Counting Down to Forever
  </h2>
  <div class="countdown" id="countdown">
    <div class="countdown-item">
      <span class="countdown-number" id="days">--</span>
      <span class="countdown-label">Days</span>
    </div>
    <div class="countdown-item">
      <span class="countdown-number" id="hours">--</span>
      <span class="countdown-label">Hours</span>
    </div>
    <div class="countdown-item">
      <span class="countdown-number" id="minutes">--</span>
      <span class="countdown-label">Minutes</span>
    </div>
    <div class="countdown-item">
      <span class="countdown-number" id="seconds">--</span>
      <span class="countdown-label">Seconds</span>
    </div>
  </div>
</section>

<!-- Welcome Section -->
<section class="welcome-section">
  <h2 class="section-title">Welcome to Our Celebration</h2>
  <div class="welcome-text">
    <p>
      We are overjoyed to share our special day with you! This website contains
      all the information you need about our wedding celebration. From ceremony
      details to accommodation suggestions, we've got you covered. Don't forget
      to RSVP and let us know if you'll be joining us!
    </p>
  </div>
  <a href="{% url 'wedding:rsvp' %}" class="btn">RSVP Now</a>
</section>

<!-- Events Preview -->
{% if upcoming_events %}
<section class="events-preview">
  <h2 class="section-title">Upcoming Events</h2>
  <div class="events-grid">
    {% for event in upcoming_events %}
    <div class="event-card">
      <div class="event-type">{{ event.get_event_type_display }}</div>
      <h3 class="event-name">{{ event.name }}</h3>
      <div class="event-details">
        <p>
          <strong>üìÖ When:</strong> {{ event.date_time|date:"F j, Y" }} at {{
          event.date_time|time:"g:i A" }}
        </p>
        {% if event.venue %}
        <p><strong>üìç Where:</strong> {{ event.venue.name }}</p>
        {% endif %} {% if event.dress_code %}
        <p><strong>üëî Dress Code:</strong> {{ event.dress_code }}</p>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="cta-section">
  <h2 style="font-size: 2.5rem; margin-bottom: 1rem">Be Part of Our Story</h2>
  <p style="font-size: 1.2rem; margin-bottom: 2rem; opacity: 0.9">
    Join us as we celebrate love, laughter, and happily ever after
  </p>
  <div class="cta-buttons">
    <a href="{% url 'wedding:events' %}" class="btn">View All Events</a>
    <a href="{% url 'wedding:gallery' %}" class="btn btn-secondary"
      >See Our Photos</a
    >
    <a href="{% url 'wedding:guestbook' %}" class="btn btn-secondary"
      >Leave a Message</a
    >
  </div>
</section>
{% endblock %} {% block extra_js %}
<script>
  // ========================================
  // PHOTO CAROUSEL
  // ========================================
  const carousel = document.getElementById("heroCarousel");
  const slides = carousel.querySelectorAll(".carousel-slide");
  const dotsContainer = document.getElementById("carouselDots");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");

  let currentSlide = 0;
  let autoPlayInterval;

  // Create dots
  slides.forEach((_, index) => {
    const dot = document.createElement("div");
    dot.className = "carousel-dot" + (index === 0 ? " active" : "");
    dot.addEventListener("click", () => goToSlide(index));
    dotsContainer.appendChild(dot);
  });

  const dots = dotsContainer.querySelectorAll(".carousel-dot");

  function goToSlide(n) {
    slides[currentSlide].classList.remove("active");
    dots[currentSlide].classList.remove("active");

    currentSlide = (n + slides.length) % slides.length;

    slides[currentSlide].classList.add("active");
    dots[currentSlide].classList.add("active");
  }

  function nextSlide() {
    goToSlide(currentSlide + 1);
  }

  function prevSlide() {
    goToSlide(currentSlide - 1);
  }

  // Auto-play
  function startAutoPlay() {
    autoPlayInterval = setInterval(nextSlide, 5000); // Change every 5 seconds
  }

  function stopAutoPlay() {
    clearInterval(autoPlayInterval);
  }

  // Event listeners
  prevBtn.addEventListener("click", () => {
    prevSlide();
    stopAutoPlay();
    startAutoPlay(); // Restart after manual change
  });

  nextBtn.addEventListener("click", () => {
    nextSlide();
    stopAutoPlay();
    startAutoPlay();
  });

  // Pause on hover
  carousel.addEventListener("mouseenter", stopAutoPlay);
  carousel.addEventListener("mouseleave", startAutoPlay);

  // Start auto-play
  startAutoPlay();

  // ========================================
  // COUNTDOWN TIMER
  // ========================================
  const weddingDate = new Date("2026-06-15T15:00:00").getTime();

  function updateCountdown() {
    const now = new Date().getTime();
    const distance = weddingDate - now;

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor(
      (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
    );
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("days").textContent = days;
    document.getElementById("hours").textContent = hours;
    document.getElementById("minutes").textContent = minutes;
    document.getElementById("seconds").textContent = seconds;

    if (distance < 0) {
      clearInterval(countdownInterval);
      document.getElementById("countdown").innerHTML =
        "<h2>We're Married! üéâ</h2>";
    }
  }

  // Update countdown every second
  updateCountdown();
  const countdownInterval = setInterval(updateCountdown, 1000);
</script>
{% endblock %}
